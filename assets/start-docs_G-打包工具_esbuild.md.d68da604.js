import { _ as _export_sfc, r as r3, i as it, a as ig } from "./chunks/framework.e6716b1e.js";
const __pageData = JSON.parse('{"title":"esbuild","description":"","frontmatter":{},"headers":[{"level":2,"title":"简介","slug":"简介","link":"#简介","children":[]},{"level":2,"title":"基本配置","slug":"基本配置","link":"#基本配置","children":[{"level":3,"title":"1. 安装","slug":"_1-安装","link":"#_1-安装","children":[]},{"level":3,"title":"2. 基础配置示例","slug":"_2-基础配置示例","link":"#_2-基础配置示例","children":[]}]},{"level":2,"title":"详细配置项","slug":"详细配置项","link":"#详细配置项","children":[{"level":3,"title":"1. 基础选项","slug":"_1-基础选项","link":"#_1-基础选项","children":[]},{"level":3,"title":"2. 构建选项","slug":"_2-构建选项","link":"#_2-构建选项","children":[]},{"level":3,"title":"3. 依赖处理","slug":"_3-依赖处理","link":"#_3-依赖处理","children":[]},{"level":3,"title":"4. 加载器配置","slug":"_4-加载器配置","link":"#_4-加载器配置","children":[]},{"level":3,"title":"5. 优化选项","slug":"_5-优化选项","link":"#_5-优化选项","children":[]}]},{"level":2,"title":"常用插件配置","slug":"常用插件配置","link":"#常用插件配置","children":[]},{"level":2,"title":"性能优化建议","slug":"性能优化建议","link":"#性能优化建议","children":[]},{"level":2,"title":"常见问题处理","slug":"常见问题处理","link":"#常见问题处理","children":[{"level":3,"title":"1. 处理 CSS","slug":"_1-处理-css","link":"#_1-处理-css","children":[]},{"level":3,"title":"2. 处理图片和资源","slug":"_2-处理图片和资源","link":"#_2-处理图片和资源","children":[]},{"level":3,"title":"3. 环境变量处理","slug":"_3-环境变量处理","link":"#_3-环境变量处理","children":[]}]}],"relativePath":"start-docs/G-打包工具/esbuild.md","filePath":"start-docs/G-打包工具/esbuild.md"}');
const _sfc_main = { name: "start-docs/G-打包工具/esbuild.md" };
function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
  return r3(), it("div", null, _cache[0] || (_cache[0] = [
    ig('<h1 id="esbuild" tabindex="-1">esbuild <a class="header-anchor" href="#esbuild" aria-label="Permalink to &quot;esbuild&quot;">​</a></h1><h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to &quot;简介&quot;">​</a></h2><p>esbuild 是一个用 Go 语言编写的极速 JavaScript/TypeScript 打包工具。它的主要特点是：</p><ul><li>极快的构建速度（比传统打包工具快 10-100 倍）</li><li>支持 ES6+ 语法</li><li>支持 TypeScript 和 JSX</li><li>内置压缩功能</li><li>支持 Source Maps</li><li>支持代码分割（Code Splitting）</li></ul><h2 id="基本配置" tabindex="-1">基本配置 <a class="header-anchor" href="#基本配置" aria-label="Permalink to &quot;基本配置&quot;">​</a></h2><h3 id="_1-安装" tabindex="-1">1. 安装 <a class="header-anchor" href="#_1-安装" aria-label="Permalink to &quot;1. 安装&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai"><code><span class="line"><span style="color:#A6E22E;">npm</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">install</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">esbuild</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">--save-dev</span></span></code></pre></div><h3 id="_2-基础配置示例" tabindex="-1">2. 基础配置示例 <a class="header-anchor" href="#_2-基础配置示例" aria-label="Permalink to &quot;2. 基础配置示例&quot;">​</a></h3><div class="language-js codearea-link" id="0lzujmcyf8vi"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> esbuild </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;esbuild&#39;</span><span style="color:#F8F8F2;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F8F8F2;">esbuild.</span><span style="color:#A6E22E;">build</span><span style="color:#F8F8F2;">({</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 入口文件</span></span>\n<span class="line"><span style="color:#F8F8F2;">    entryPoints: [</span><span style="color:#E6DB74;">&#39;src/index.js&#39;</span><span style="color:#F8F8F2;">],</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 输出文件</span></span>\n<span class="line"><span style="color:#F8F8F2;">    outfile: </span><span style="color:#E6DB74;">&#39;dist/bundle.js&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 是否打包</span></span>\n<span class="line"><span style="color:#F8F8F2;">    bundle: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 是否压缩</span></span>\n<span class="line"><span style="color:#F8F8F2;">    minify: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 平台: &#39;browser&#39; | &#39;node&#39; | &#39;neutral&#39;</span></span>\n<span class="line"><span style="color:#F8F8F2;">    platform: </span><span style="color:#E6DB74;">&#39;browser&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 目标环境</span></span>\n<span class="line"><span style="color:#F8F8F2;">    target: [</span><span style="color:#E6DB74;">&#39;es2015&#39;</span><span style="color:#F8F8F2;">],</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 源码映射: &#39;inline&#39; | &#39;external&#39; | false</span></span>\n<span class="line"><span style="color:#F8F8F2;">    sourcemap: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 加载器配置</span></span>\n<span class="line"><span style="color:#F8F8F2;">    loader: {</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.png&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;file&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.svg&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;text&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.jsx&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;jsx&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.ts&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;ts&#39;</span></span>\n<span class="line"><span style="color:#F8F8F2;">    }</span></span>\n<span class="line"><span style="color:#F8F8F2;">}).</span><span style="color:#A6E22E;">catch</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> process.</span><span style="color:#A6E22E;">exit</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">));</span></span></code></pre><button class="link">将此代码在线运行</button></div><h2 id="详细配置项" tabindex="-1">详细配置项 <a class="header-anchor" href="#详细配置项" aria-label="Permalink to &quot;详细配置项&quot;">​</a></h2><h3 id="_1-基础选项" tabindex="-1">1. 基础选项 <a class="header-anchor" href="#_1-基础选项" aria-label="Permalink to &quot;1. 基础选项&quot;">​</a></h3><div class="language-js codearea-link" id="ens4jelq25"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">{</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 入口点，可以是单个文件或多个文件</span></span>\n<span class="line"><span style="color:#F8F8F2;">    entryPoints: [</span><span style="color:#E6DB74;">&#39;src/app.js&#39;</span><span style="color:#F8F8F2;">],</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 输出配置</span></span>\n<span class="line"><span style="color:#F8F8F2;">    outfile: </span><span style="color:#E6DB74;">&#39;dist/app.js&#39;</span><span style="color:#F8F8F2;">,     </span><span style="color:#88846F;">// 单入口输出</span></span>\n<span class="line"><span style="color:#F8F8F2;">    outdir: </span><span style="color:#E6DB74;">&#39;dist&#39;</span><span style="color:#F8F8F2;">,             </span><span style="color:#88846F;">// 多入口输出目录</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 是否将依赖打包在一起</span></span>\n<span class="line"><span style="color:#F8F8F2;">    bundle: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 是否压缩代码</span></span>\n<span class="line"><span style="color:#F8F8F2;">    minify: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 是否压缩标识符名称</span></span>\n<span class="line"><span style="color:#F8F8F2;">    minifyIdentifiers: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 是否压缩空白字符</span></span>\n<span class="line"><span style="color:#F8F8F2;">    minifyWhitespace: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 是否压缩语法</span></span>\n<span class="line"><span style="color:#F8F8F2;">    minifySyntax: </span><span style="color:#AE81FF;">true</span></span>\n<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><button class="link">将此代码在线运行</button></div><h3 id="_2-构建选项" tabindex="-1">2. 构建选项 <a class="header-anchor" href="#_2-构建选项" aria-label="Permalink to &quot;2. 构建选项&quot;">​</a></h3><div class="language-js codearea-link" id="dq7b78tmgdj"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">{</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 指定构建平台</span></span>\n<span class="line"><span style="color:#F8F8F2;">    platform: </span><span style="color:#E6DB74;">&#39;browser&#39;</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// &#39;browser&#39; | &#39;node&#39; | &#39;neutral&#39;</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 目标环境</span></span>\n<span class="line"><span style="color:#F8F8F2;">    target: [</span><span style="color:#E6DB74;">&#39;es2015&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&#39;chrome58&#39;</span><span style="color:#F8F8F2;">],</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 输出格式: &#39;iife&#39; | &#39;cjs&#39; | &#39;esm&#39;</span></span>\n<span class="line"><span style="color:#F8F8F2;">    format: </span><span style="color:#E6DB74;">&#39;esm&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 是否保留注释</span></span>\n<span class="line"><span style="color:#F8F8F2;">    keepNames: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 是否生成 source map</span></span>\n<span class="line"><span style="color:#F8F8F2;">    sourcemap: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// true | &#39;inline&#39; | &#39;external&#39; | false</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 是否监听文件变化</span></span>\n<span class="line"><span style="color:#F8F8F2;">    watch: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 是否写入文件</span></span>\n<span class="line"><span style="color:#F8F8F2;">    write: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 是否允许覆盖文件</span></span>\n<span class="line"><span style="color:#F8F8F2;">    allowOverwrite: </span><span style="color:#AE81FF;">false</span></span>\n<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><button class="link">将此代码在线运行</button></div><h3 id="_3-依赖处理" tabindex="-1">3. 依赖处理 <a class="header-anchor" href="#_3-依赖处理" aria-label="Permalink to &quot;3. 依赖处理&quot;">​</a></h3><div class="language-js codearea-link" id="z7iz65eebgl"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">{</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 外部依赖，不打包进bundle</span></span>\n<span class="line"><span style="color:#F8F8F2;">    external: [</span><span style="color:#E6DB74;">&#39;react&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&#39;react-dom&#39;</span><span style="color:#F8F8F2;">],</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 别名配置</span></span>\n<span class="line"><span style="color:#F8F8F2;">    alias: {</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;@&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;./src&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;utils&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;./src/utils&#39;</span></span>\n<span class="line"><span style="color:#F8F8F2;">    },</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 定义全局变量</span></span>\n<span class="line"><span style="color:#F8F8F2;">    define: {</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;p<wbr>rocess.env.NODE_ENV&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;&quot;production&quot;&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;DEBUG&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;false&#39;</span></span>\n<span class="line"><span style="color:#F8F8F2;">    },</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 注入全局变量</span></span>\n<span class="line"><span style="color:#F8F8F2;">    inject: [</span><span style="color:#E6DB74;">&#39;./src/globals.js&#39;</span><span style="color:#F8F8F2;">]</span></span>\n<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><button class="link">将此代码在线运行</button></div><h3 id="_4-加载器配置" tabindex="-1">4. 加载器配置 <a class="header-anchor" href="#_4-加载器配置" aria-label="Permalink to &quot;4. 加载器配置&quot;">​</a></h3><div class="language-js codearea-link" id="q2x29qtkqb"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">{</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 文件加载器配置</span></span>\n<span class="line"><span style="color:#F8F8F2;">    loader: {</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.js&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;jsx&#39;</span><span style="color:#F8F8F2;">,           </span><span style="color:#88846F;">// 处理 JSX</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.ts&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;ts&#39;</span><span style="color:#F8F8F2;">,            </span><span style="color:#88846F;">// 处理 TypeScript</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.png&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;file&#39;</span><span style="color:#F8F8F2;">,         </span><span style="color:#88846F;">// 作为文件处理</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.svg&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;text&#39;</span><span style="color:#F8F8F2;">,         </span><span style="color:#88846F;">// 作为文本处理</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.css&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;css&#39;</span><span style="color:#F8F8F2;">,          </span><span style="color:#88846F;">// 处理 CSS</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.json&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;json&#39;</span><span style="color:#F8F8F2;">,        </span><span style="color:#88846F;">// 处理 JSON</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.txt&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;text&#39;</span><span style="color:#F8F8F2;">,         </span><span style="color:#88846F;">// 处理文本</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.jsx&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;jsx&#39;</span><span style="color:#F8F8F2;">,          </span><span style="color:#88846F;">// 处理 JSX</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.tsx&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;tsx&#39;</span><span style="color:#F8F8F2;">,          </span><span style="color:#88846F;">// 处理 TSX</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.woff2&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;file&#39;</span><span style="color:#F8F8F2;">,       </span><span style="color:#88846F;">// 处理字体</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.woff&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;file&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.ttf&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;file&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.eot&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;file&#39;</span></span>\n<span class="line"><span style="color:#F8F8F2;">    }</span></span>\n<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><button class="link">将此代码在线运行</button></div><h3 id="_5-优化选项" tabindex="-1">5. 优化选项 <a class="header-anchor" href="#_5-优化选项" aria-label="Permalink to &quot;5. 优化选项&quot;">​</a></h3><div class="language-js codearea-link" id="hmvegjpa7vj"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">{</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 代码分割</span></span>\n<span class="line"><span style="color:#F8F8F2;">    splitting: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 压缩选项</span></span>\n<span class="line"><span style="color:#F8F8F2;">    minify: {</span></span>\n<span class="line"><span style="color:#F8F8F2;">        whitespace: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,      </span><span style="color:#88846F;">// 压缩空白</span></span>\n<span class="line"><span style="color:#F8F8F2;">        identifiers: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,     </span><span style="color:#88846F;">// 压缩标识符</span></span>\n<span class="line"><span style="color:#F8F8F2;">        syntax: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">           </span><span style="color:#88846F;">// 压缩语法</span></span>\n<span class="line"><span style="color:#F8F8F2;">    },</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// tree shaking</span></span>\n<span class="line"><span style="color:#F8F8F2;">    treeShaking: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 元数据</span></span>\n<span class="line"><span style="color:#F8F8F2;">    metafile: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span></span>\n<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 忽略注释</span></span>\n<span class="line"><span style="color:#F8F8F2;">    ignoreAnnotations: </span><span style="color:#AE81FF;">true</span></span>\n<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><button class="link">将此代码在线运行</button></div><h2 id="常用插件配置" tabindex="-1">常用插件配置 <a class="header-anchor" href="#常用插件配置" aria-label="Permalink to &quot;常用插件配置&quot;">​</a></h2><div class="language-js codearea-link" id="gpep19kksd8"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> esbuild </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;esbuild&#39;</span><span style="color:#F8F8F2;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F8F8F2;">esbuild.</span><span style="color:#A6E22E;">build</span><span style="color:#F8F8F2;">({</span></span>\n<span class="line"><span style="color:#F8F8F2;">    plugins: [</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#88846F;">// HTML 插件</span></span>\n<span class="line"><span style="color:#F8F8F2;">        {</span></span>\n<span class="line"><span style="color:#F8F8F2;">            name: </span><span style="color:#E6DB74;">&#39;html&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#A6E22E;">setup</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">build</span><span style="color:#F8F8F2;">) {</span></span>\n<span class="line"><span style="color:#F8F8F2;">                </span><span style="color:#88846F;">// 插件逻辑</span></span>\n<span class="line"><span style="color:#F8F8F2;">            }</span></span>\n<span class="line"><span style="color:#F8F8F2;">        },</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#88846F;">// 环境变量插件</span></span>\n<span class="line"><span style="color:#F8F8F2;">        {</span></span>\n<span class="line"><span style="color:#F8F8F2;">            name: </span><span style="color:#E6DB74;">&#39;env&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#A6E22E;">setup</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">build</span><span style="color:#F8F8F2;">) {</span></span>\n<span class="line"><span style="color:#F8F8F2;">                </span><span style="color:#88846F;">// 插件逻辑</span></span>\n<span class="line"><span style="color:#F8F8F2;">            }</span></span>\n<span class="line"><span style="color:#F8F8F2;">        }</span></span>\n<span class="line"><span style="color:#F8F8F2;">    ]</span></span>\n<span class="line"><span style="color:#F8F8F2;">}).</span><span style="color:#A6E22E;">catch</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> process.</span><span style="color:#A6E22E;">exit</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">));</span></span></code></pre><button class="link">将此代码在线运行</button></div><h2 id="性能优化建议" tabindex="-1">性能优化建议 <a class="header-anchor" href="#性能优化建议" aria-label="Permalink to &quot;性能优化建议&quot;">​</a></h2><ol><li><strong>合理使用 external</strong></li></ol><div class="language-js codearea-link" id="ffy8xh4xac"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">{</span></span>\n<span class="line"><span style="color:#F8F8F2;">    external: [</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;react&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;react-dom&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;lodash&#39;</span><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// 大型库建议外部引入</span></span>\n<span class="line"><span style="color:#F8F8F2;">    ]</span></span>\n<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><button class="link">将此代码在线运行</button></div><ol start="2"><li><strong>开发环境配置</strong></li></ol><div class="language-js codearea-link" id="xjo52tf3x7g"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">{</span></span>\n<span class="line"><span style="color:#F8F8F2;">    minify: </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;">,        </span><span style="color:#88846F;">// 开发环境不压缩</span></span>\n<span class="line"><span style="color:#F8F8F2;">    sourcemap: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,      </span><span style="color:#88846F;">// 开启 sourcemap</span></span>\n<span class="line"><span style="color:#F8F8F2;">    watch: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">           </span><span style="color:#88846F;">// 开启监听</span></span>\n<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><button class="link">将此代码在线运行</button></div><ol start="3"><li><strong>生产环境配置</strong></li></ol><div class="language-js codearea-link" id="nxwd3e9x8g"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">{</span></span>\n<span class="line"><span style="color:#F8F8F2;">    minify: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,         </span><span style="color:#88846F;">// 生产环境压缩</span></span>\n<span class="line"><span style="color:#F8F8F2;">    sourcemap: </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;">,     </span><span style="color:#88846F;">// 关闭 sourcemap</span></span>\n<span class="line"><span style="color:#F8F8F2;">    metafile: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,       </span><span style="color:#88846F;">// 生成构建分析文件</span></span>\n<span class="line"><span style="color:#F8F8F2;">    target: [</span><span style="color:#E6DB74;">&#39;es2015&#39;</span><span style="color:#F8F8F2;">]    </span><span style="color:#88846F;">// 指定目标环境</span></span>\n<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><button class="link">将此代码在线运行</button></div><h2 id="常见问题处理" tabindex="-1">常见问题处理 <a class="header-anchor" href="#常见问题处理" aria-label="Permalink to &quot;常见问题处理&quot;">​</a></h2><h3 id="_1-处理-css" tabindex="-1">1. 处理 CSS <a class="header-anchor" href="#_1-处理-css" aria-label="Permalink to &quot;1. 处理 CSS&quot;">​</a></h3><div class="language-js codearea-link" id="93p3099ww2a"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">{</span></span>\n<span class="line"><span style="color:#F8F8F2;">    loader: { </span><span style="color:#E6DB74;">&#39;.css&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;css&#39;</span><span style="color:#F8F8F2;"> },</span></span>\n<span class="line"><span style="color:#F8F8F2;">    plugins: [</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#88846F;">// CSS 处理插件</span></span>\n<span class="line"><span style="color:#F8F8F2;">    ]</span></span>\n<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><button class="link">将此代码在线运行</button></div><h3 id="_2-处理图片和资源" tabindex="-1">2. 处理图片和资源 <a class="header-anchor" href="#_2-处理图片和资源" aria-label="Permalink to &quot;2. 处理图片和资源&quot;">​</a></h3><div class="language-js codearea-link" id="22y2q9ta9cz"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">{</span></span>\n<span class="line"><span style="color:#F8F8F2;">    loader: {</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.png&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;file&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.jpg&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;file&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.svg&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;file&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;.woff&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;file&#39;</span></span>\n<span class="line"><span style="color:#F8F8F2;">    },</span></span>\n<span class="line"><span style="color:#F8F8F2;">    publicPath: </span><span style="color:#E6DB74;">&#39;/assets/&#39;</span><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// 公共路径配置</span></span>\n<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><button class="link">将此代码在线运行</button></div><h3 id="_3-环境变量处理" tabindex="-1">3. 环境变量处理 <a class="header-anchor" href="#_3-环境变量处理" aria-label="Permalink to &quot;3. 环境变量处理&quot;">​</a></h3><div class="language-js codearea-link" id="lre12hpxz78"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#F8F8F2;">{</span></span>\n<span class="line"><span style="color:#F8F8F2;">    define: {</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;p<wbr>rocess.env.NODE_ENV&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;&quot;production&quot;&#39;</span><span style="color:#F8F8F2;">,</span></span>\n<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;p<wbr>rocess.env.API_URL&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;&quot;https://api.example.com&quot;&#39;</span></span>\n<span class="line"><span style="color:#F8F8F2;">    }</span></span>\n<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><button class="link">将此代码在线运行</button></div>', 36)
  ]));
}
const esbuild = /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render]]);
export {
  __pageData,
  esbuild as default
};
